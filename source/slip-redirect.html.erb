---
layout: false
---
<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="x-ua-compatible" content="ie=edge" />
        <title><%= t('redirect.title') %></title>
        <meta name="robots" content="noindex" />
        <script>
            (function() {
                var supported = ["en", "zh-TW"];
                var storageKey = "slip_locale";
                var stored = null;

                try {
                    stored = window.localStorage.getItem(storageKey);
                } catch (e) {
                    stored = null;
                }

                if (!stored || supported.indexOf(stored) === -1) {
                    var preferred = window.navigator.languages || [window.navigator.language || "en"];
                    var detected = "en";

                    for (var i = 0; i < preferred.length; i += 1) {
                        var lang = (preferred[i] || "").toLowerCase();
                        if (lang.indexOf("zh") === 0) {
                            detected = "zh-TW";
                            break;
                        }
                        if (lang.indexOf("en") === 0) {
                            detected = "en";
                        }
                    }

                    stored = detected;
                }

                if (stored) {
                    window.location.replace("/" + stored + "/slip/");
                }
            })();
        </script>
    </head>
    <body class="locale-redirect">
        <p><%= t('redirect.body') %></p>
        <p>
            <a href="/en/slip/" data-set-locale="en"><%= t('redirect.links.en') %></a>
            Â·
            <a href="/zh-TW/slip/" data-set-locale="zh-TW"><%= t('redirect.links.zh_tw') %></a>
        </p>
        <script>
            (function() {
                var links = document.querySelectorAll('[data-set-locale]');
                var storageKey = 'slip_locale';

                links.forEach(function(link) {
                    link.addEventListener('click', function() {
                        var locale = link.getAttribute('data-set-locale');

                        if (!locale) {
                            return;
                        }

                        try {
                            window.localStorage.setItem(storageKey, locale);
                        } catch (e) {
                            return;
                        }
                    });
                });
            })();
        </script>
    </body>
</html>
